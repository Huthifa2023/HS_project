<!DOCTYPE html>
<html lang="en" class="h-100">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>login & Registration</title>
</head>
<body>
    <header  class="modal-header align-items-center">
            <img id="logo_img" src="{% static 'img\logo_transparent_white_background.png' %}" alt="logo_transparent_white_background">

            <div>
                <ul class="d-flex header_nav mt-3">
                    <li><a class="btn header_nav_btn border-dark ml-1" href="/">Home</a></li>
                <li><a class="btn header_nav_btn border-dark ml-1" href="/products">Products</a></li>
                <li><a class="btn header_nav_btn border-dark ml-1" href="/aboutus">About Us</a></li>
                <li><a class="btn header_nav_btn border-dark ml-1" href="/contactus">Contact Us</a></li>
                </ul>
            </div>

            <div class="search-container">
                <form class="form-inline" action="" method="post">
                    {% csrf_token %}
                    <div class="">
                        <input class="form-control" type="text" placeholder="Search.." name="search">
                        <button class="btn" type="submit"><img class="icon_image" src="{% static 'img\search-icon.png' %}" alt="search_icon"></button>
                    </div>
                </form>
            </div>

            <div>
                {% if not 'id' in request.session %}
                <a class="btn header_nav_btn border" href="/login"><img class="icon_image" src="{% static 'img\login_person.png' %}" alt="persion_icon">Login</a>
                {% else %}
                <a class="btn header_nav_btn border" href="/logout"><img class="icon_image" src="{% static 'img\login_person.png' %}" alt="persion_icon">Logout</a>
                {% endif %}
                <a class="ml-3" data-toggle="modal" data-target="#lab-slide-bottom-popup" href="#"><img src="{% static 'img\cart_icon.png' %}" alt="cart_icon"></a>
            </div>



<!-- cart Body -->
<div class="modal fade" id="lab-slide-bottom-popup" data-keyboard="false" data-backdrop="false">
    <div class="lab-modal-body">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h1>Your Cart</h1>

        <ol>
            {% for p in all_orders %}
            {% for x in p.prduct.all %}
            <li>{{ x.name }}</li>
            {%  endfor %}
            {%  endfor %}
            <li>ashdah</li>
        </ol>


        <div class="text-center">
            <a href="/checkout" target="_blank" class="btn-primary btn-plain btn btn-lg popup-button">Checkout!</a>
        </div>
    </div>
    <!-- /.modal-body -->
</div>
<!-- cart Body -->



            <div>
                <ul class="menu">
                <li><a class="menuItem" href="#">My Cart</a></li>
                <li><a class="menuItem" href="/">Home</a></li>
                <li><a class="menuItem" href="/products">Products</a></li>
                <li><a class="menuItem" href="/aboutus">About us</a></li>
                <li><a class="menuItem" href="/contactus">Contact Us</a></li>
                </ul>
                <button class="hamburger header_nav_btn">
                    <img class="icon_image" src="{% static 'img\menu_black.png' %}" alt="menu_icon">
                    <!-- <i class="menuIcon material-icons">menu</i>
                    <i class="closeIcon material-icons">close</i> -->
                </button>
            </div>       
    </header>
    <main class="d-flex mx-auto mt-5 justify-content-around login-main">
        <form class="shadow-lg border border-dark p-5 form-height" action="/login_request" method="post">
            {% csrf_token %}
            <h2 class="text-success">Login</h2>
            <div class="d-flex flex-column justify-content-between mb-4 mt-4 form-font">
                <label>Email</label>
                <input class="form-control border border-dark" type="email" name="email" required>
            </div>
            <div class="form-font">
                <label>Password</label>
                <input class="form-control border border-dark" type="password" name="password" required>
            </div>
            <div class="d-flex justify-content-end mt-4">
                <input class="btn btn-warning text-white" type="submit" name="login" value="Log In">
            </div>
            
        </form>

        {% if messages %}	     
                <ul class="messages">    
                    {% for message in messages %}    
                        <li {% if message.tags == 'error' %} style="color: red; font-style: italic;" {% endif %} {% if message.tags == 'success' %} style="color: green; font-style: italic;" {% endif %}>{{ message }}</li>    
                    {% endfor %}
                </ul>
                {% endif %}

        <form class="mb-5 shadow-lg border border-dark p-5" action="/register" method="post">
            {% csrf_token %}
            <h2 class="text-success">Register</h2>
            <div class="d-flex flex-column justify-content-between mb-4 mt-4 form-font">
                <label>First Name</label>
                <input class="form-control border border-dark" type="text" name="first_name" required>
            </div>
            <div class="d-flex flex-column justify-content-between mb-4 form-font">
                <label>Last Name</label>
                <input class="form-control border border-dark" type="text" name="last_name" required>
            </div>
            <div class="d-flex flex-column justify-content-between mb-4 form-font">
                <label>Email</label>
                <input class="form-control border border-dark" type="email" name="email" required>
            </div>
            <div class="d-flex flex-column justify-content-between mb-4 form-font">
                <label>Password</label>
                <input class="form-control border border-dark" type="password" name="password" required>
            </div>
            <div class="form-font">
                <label>Confirm pass</label>
                <input class="form-control border border-dark" type="password" name="password2" required>
            </div>
            <div class="d-flex justify-content-end mt-4">
                <input class="btn btn-info" type="submit" name="register" value="Register">
            </div>
            
        </form>
    </main>
    <footer class="d-flex justify-content-around">
        <div class="w-25">
            <h3>About Us</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ut odio, ducimus iure non sapiente at reiciendis fugit quisquam exercitationem, fuga beatae autem nihil quidem corporis labore. Distinctio velit maiores voluptatum.</p>
        </div>

        <div class="w-25">
            <h3>Site Map</h3>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Profile</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Contact Us</a></li>
            </ul>
        </div>

        <div class="w-25">
            <h3>Contact Us</h3>
            <h6>info@progress.ps</h6>
            <h6>+972 59-786-9686</h6>
            <h6>FB.com/progresspalestine</h6>
            <h6>Ramallah / Palestine</h6>
        </div>
            
        <div class="w-25">
            <img id="logo_img_footer" src="{% static 'img\logo_transparent_black_background.png' %}" alt="logo_transparent_dark_background">
        </div>
        
    </footer>

    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>